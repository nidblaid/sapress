<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="kzm_external_layout_background">
        <div t-attf-class="o_company_#{company.id}_layout header" t-att-style="report_header_style">

        </div>

        <div t-attf-class="o_company_#{company.id}_layout article o_report_layout_background" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-call="web.address_layout"/>
            <t t-raw="0"/>
        </div>

        <div t-attf-class="o_company_#{company.id}_layout footer o_background_footer">

        </div>
    </template>

    <template id="kzm_external_layout_boxed">
        <div t-attf-class="header o_company_#{company.id}_layout" t-att-style="report_header_style">

        </div>

        <div t-attf-class="article o_report_layout_boxed o_company_#{company.id}_layout" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-call="web.address_layout"/>
            <t t-raw="0"/>
        </div>

        <div t-attf-class="footer o_boxed_footer o_company_#{company.id}_layout">

        </div>
    </template>

    <template id="kzm_external_layout_clean">
        <div t-attf-class="header o_company_#{company.id}_layout" t-att-style="report_header_style">

        </div>

        <div t-attf-class="article o_report_layout_clean o_company_#{company.id}_layout"  t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-call="web.address_layout"/>
            <t t-raw="0"/>
        </div>

        <div t-attf-class="footer o_clean_footer o_company_#{company.id}_layout">

        </div>
    </template>
    <template id="kzm_external_layout_standard">
        <div t-attf-class="header o_company_#{company.id}_layout" t-att-style="report_header_style">

        </div>

        <div t-attf-class="article o_report_layout_standard o_company_#{company.id}_layout"  t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-call="web.address_layout"/>
            <t t-raw="0"/>
        </div>

        <div t-attf-class="footer o_standard_footer o_company_#{company.id}_layout">
        </div>
    </template>
    <template id="kzm_external_layout">
        <t t-if="not o" t-set="o" t-value="doc"/>

        <t t-if="not company">
            <!-- Multicompany -->
            <t t-if="company_id">
                <t t-set="company" t-value="company_id"/>
            </t>
            <t t-elif="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id.sudo()"/>
            </t>
            <t t-else="else">
                <t t-set="company" t-value="res_company"/>
            </t>
        </t>

        <t t-if="company.external_report_layout_id and company.external_report_layout_id.xml_id == 'web.external_layout_standard'"
           t-call="kzm_invoice_report.kzm_external_layout_standard"><t t-raw="0"/></t>
        <t t-if="company.external_report_layout_id and company.external_report_layout_id.xml_id == 'web.external_layout_boxed'"
           t-call="kzm_invoice_report.kzm_external_layout_boxed"><t t-raw="0"/></t>
        <t t-if="company.external_report_layout_id and company.external_report_layout_id.xml_id == 'web.external_layout_background'"
           t-call="kzm_invoice_report.kzm_external_layout_background"><t t-raw="0"/></t>
        <t t-if="company.external_report_layout_id and company.external_report_layout_id.xml_id == 'web.external_layout_clean'"
           t-call="kzm_invoice_report.kzm_external_layout_clean"><t t-raw="0"/></t>
        <t t-if="not company.external_report_layout_id" t-call="web.basic_layout"><t t-raw="0"/></t>

    </template>
    <template id="kzm_report_invoice_document1"
              inherit_id="kzm_invoice_report.kzm_report_invoice_document" primary="True">
        <xpath expr="//t[@t-call='web.external_layout']" position="attributes">
            <attribute name="t-call">kzm_invoice_report.kzm_external_layout</attribute>
        </xpath>
    </template>
     <template id="report_invoice_without_header_footer">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-set="lang" t-value="o.invoice_user_id.sudo().lang if o.type in ('in_invoice', 'in_refund') else o.partner_id.lang"/>
                    <t t-call="kzm_invoice_report.kzm_report_invoice_document1" t-lang="lang"/>
                </t>
            </t>
        </template>
    <report
            id="account_invoice_without_header_footer"
            model="account.move"
            string="Invoice without Header and Footer"
            report_type="qweb-pdf"
             name="kzm_invoice_report.report_invoice_without_header_footer"
            file="kzm_invoice_report.report_invoice_without_header_footer"
            groups="kzm_invoice_report.group_without_header_footer_account"
            print_report_name="(object._get_report_base_filename())"
        />
</odoo>
